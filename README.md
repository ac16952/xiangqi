# 象棋卜卦 Streamlit 版本

一個基於Streamlit的象棋卜卦網頁應用程式，具有翻牌功能和完整的解卦分析。

## 功能特色

### 🎯 核心功能
- **隨機棋盤生成**：4x8共32隻象棋的隨機排列
- **翻牌互動**：棋盤初始為蓋牌狀態，點擊翻面顯示棋子
- **卦象選擇**：選擇5隻棋子按照中間1、左邊2、右邊3、上方4、下方5的順序排列
- **完整解卦**：基於傳統象棋卜卦理論的詳細分析

### 📊 解卦分析項目
1. **陰陽平衡判斷**：2紅3黑或3紅2黑為平衡，不平衡則減5分
2. **三才分析**：天格、人格、地格的完整性
3. **格局判斷**：一般獨秀格、十字天動格、勝利格、好朋友格等
4. **狀態分析**：基於棋子位置和屬性的現況解讀
5. **互動關係**：上下左右棋子間的相互影響
6. **付出與收穫**：預測投入與回報的關係
7. **健康狀況**：基於五行關係的健康分析
8. **個人化建議**：針對卦象給出的具體建議

## 安裝與運行

### 環境要求
- Python 3.7+
- Streamlit

### 安裝步驟

1. **安裝依賴**
```bash
pip install -r requirements.txt
```

2. **運行應用程式**
```bash
streamlit run app.py
```

3. **訪問應用程式**
打開瀏覽器訪問：http://localhost:8501

## 使用方法

1. **生成棋盤**：點擊"🎲 重新生成棋盤"按鈕生成隨機排列的象棋
2. **翻牌選擇**：
   - 第一次點擊棋子：翻面顯示棋子內容
   - 第二次點擊：選擇該棋子加入卦象
3. **完成卦象**：選擇5隻棋子後，點擊"🔮 開始卜卦"
4. **查看結果**：系統會顯示詳細的解卦分析

## 專案結構

```
xiangqi_streamlit/
├── app.py                   # Streamlit主應用程式
├── divination_engine.py     # 卜卦引擎邏輯
├── models/                  # 資料模型
│   ├── __init__.py
│   ├── user.py             # 用戶模型
│   └── xiangqi.py          # 象棋模型
├── .streamlit/              # Streamlit配置
│   └── config.toml         # 主題和伺服器配置
├── requirements.txt         # Python依賴
└── README.md               # 說明文件
```

## 技術特點

### 前端技術
- **Streamlit框架**：快速建構互動式網頁應用程式
- **響應式設計**：支援桌面和行動裝置
- **CSS3動畫**：流暢的翻牌和選擇效果
- **Session State**：狀態管理和資料持久化

### 後端技術
- **Python**：核心邏輯實現
- **模組化設計**：清晰的程式碼結構
- **完整的卜卦算法**：保留原有的解卦邏輯

### 卜卦算法
- **傳統理論**：基於傳統象棋卜卦理論
- **五行分析**：結合五行相生相剋理論
- **格局識別**：多種卦象格局的自動識別

## 部署說明

### 本地部署
```bash
streamlit run app.py
```

### 雲端部署
可部署到 Streamlit Cloud、Heroku 或其他雲端平台：

1. **Streamlit Cloud**：
   - 連接 GitHub 倉庫
   - 自動部署和更新

2. **Heroku**：
   - 添加 `Procfile`：`web: streamlit run app.py --server.port=$PORT --server.address=0.0.0.0`
   - 推送到 Heroku

## 版本歷史

### v2.0.0 (Streamlit版本)
- ✅ 完全重寫為Streamlit應用程式
- ✅ 保留所有原有功能
- ✅ 改善使用者介面
- ✅ 簡化部署流程

### v1.1.0 (Flask版本)
- ✅ 新增翻牌功能
- ✅ 改善使用者體驗
- ✅ 優化動畫效果

## 授權

本專案僅供學習和娛樂使用，請勿用於商業用途。

## 聯絡資訊

如有問題或建議，歡迎聯絡開發團隊。

---

**注意**：象棋卜卦僅供娛樂參考，請勿過度迷信。

